angular.module("angularParseInterface",["ngResource","ngStorage"]),angular.module("angularParseInterface").factory("ParseAppEventBus",["$rootScope",function(a){"use strict";var b=function(){this._$scope=a.$new(!0),this._events={}};return b.prototype.on=function(a,b){var c=this._$scope.$on(a,b),d=this._events[a]=this._events[a]||[];d.push({handler:b,unregisterHandler:c})},b.prototype.off=function(a,b){var c=this._events[a]||[],d=[];angular.forEach(c,function(a){b&&a.handler!==b?d.push(a):a.unregisterHandler()}),this._events[a]=d.length?d:void 0},b.prototype.once=function(a,b){var c=this,d=function(){b.apply(b,arguments),c.off(a,b)},e=this._$scope.$on(a,d),f=this._events[a]=this._events[a]||[];f.push({handler:b,unregisterHandler:e})},b.prototype.emit=function(){var a=this._$scope;a.$emit.apply(a,arguments)},b}]).value("PARSE_APP_EVENTS",{SIGN_IN:"SIGN_IN",SIGN_OUT:"SIGN_OUT",USE_JS_API:"USE_JS_API",USE_REST_API:"USE_REST_API",MODULE_REGISTERED:"MODULE_REGISTERED",MODULE_INIT:"MODULE_INIT"}),angular.module("angularParseInterface").factory("parseCloudCode",["parseResourceActions",function(a){"use strict";var b={};return b.createCallerFactory=function(b){var c="/functions/:functionName",d={},e={POST:a.getActionConfig("POST")},f=b(c,d,e);return function(a){var b={functionName:a};return function(){var a=[].slice.call(arguments);return angular.isObject(a[0])||a.unshift({}),a.unshift(b),f.POST.apply(f,a)}}},b}]),angular.module("angularParseInterface").factory("parseEvent",["$q","parseResourceActions","PARSE_APP_EVENTS",function(a,b,c){"use strict";var d={};return d._parseEventDecorator=function(a,b){a.className=b},d._encodeDate=function(a){return a instanceof Date?{__type:"Date",iso:a.toISOString()}:void 0},d.createEventFactory=function(a,e){var f=this._parseEventDecorator,g=d._encodeDate,h=!1,i="parseEvent",j=c.MODULE_INIT+"."+i;return e.once(j,function(a,b){h="JS"===b.currentAPI}),e.emit(c.MODULE_REGISTERED,i),e.on(c.USE_REST_API,function(){h=!1}),e.on(c.USE_JS_API,function(){h=!0}),function(c){var d,e="/events/"+c,i={},j={POST:b.getActionConfig("POST")};return d=a(e,i,j),f(d,c),function(a,b){var c={dimensions:a};return b&&(c.at=g(b)),h?d.POST(c):void 0}}},d}]),angular.module("angularParseInterface").factory("parseFile",function(){"use strict";var a={};return a}),angular.module("angularParseInterface").factory("parseInterface",["parseStorage","ParseAppEventBus","PARSE_APP_EVENTS","parseResource","parseObjectFactory","parseUser","parseQueryBuilder","parseCloudCode","parseRole","parseEvent",function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="js1.2.18",l=a.localStorage;l.parseApp=l.parseApp||{};var m=a.sessionStorage;m.parseApp=m.parseApp||{};var n={};return n.createAppInterface=function(a){var n,o,p,q,r,s;if(a=angular.copy(a),q=new b,!a.APPLICATION_ID)throw new Error('appConfig must have an "APPLICATION_ID" property');if(n=a.APPLICATION_ID,a.REST_KEY)a.currentAPI="REST";else{if(!a.JS_KEY)throw new Error('appConfig must have either a "REST_KEY" or a "JS_KEY" property');a.currentAPI="JS"}if(o=l.parseApp[n]=l.parseApp[n]||{},p=m.parseApp[n]=m.parseApp[n]||{},!o.INSTALLATION_ID||""===o.INSTALLATION_ID){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};o.INSTALLATION_ID=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}return a.INSTALLATION_ID=o.INSTALLATION_ID,a.CLIENT_VERSION=k,q.on(c.MODULE_REGISTERED,function(b,d){var e=c.MODULE_INIT+"."+d;q.emit(e,a)}),r=d.createAppResourceFactory(q,p),s={},s.objectFactory=e.createObjectFactory(r),s.User=f.createUserModel(r,p,q),s.Query=g.Query,s.getCloudCaller=h.createCallerFactory(r),s.roleFactory=i.createRoleFactory(r,s.User),s.eventFactory=j.createEventFactory(r,q),s.useJsApi=function(){a.JS_KEY&&(a.currentAPI="JS",q.emit(c.USE_JS_API))},s.useRestApi=function(){a.REST_KEY&&(a.currentAPI="REST",q.emit(c.USE_REST_API))},s},n}]),angular.module("angularParseInterface").factory("parseObjectFactory",["parseResourceActions",function(a){"use strict";var b=function(a,b){a.className=b},c={};return c.createObjectFactory=function(c){return function(d){var e,f="/classes/"+d+"/:objectId",g={objectId:"@objectId"},h={get:a.getActionConfig("get"),query:a.getActionConfig("query"),save:a.getActionConfig("save"),"delete":a.getActionConfig("delete"),PUT:a.getActionConfig("PUT")};return e=c(f,g,h),b(e,d),e}},c}]),angular.module("angularParseInterface").factory("parseQueryBuilder",function(){"use strict";var a=function(a){return angular.isObject(a)&&!angular.isArray(a)},b=function(a,b){var c={};return angular.forEach(a,function(a,d){~b.indexOf(d)&&(c[d]=a)}),c},c=function(a,b){var c={};return angular.forEach(a,function(a,d){b.indexOf(d)<0&&(c[d]=a)}),c},d={},e=d.Query=function(a){this._Resource=a,this._params={}};return e.prototype._getConstraints=function(){return angular.copy(this._params.where)||{}},e.prototype._setConstraints=function(a){this._params.where=a},e.prototype._getFieldConstraints=function(a){var b=this._getConstraints();return angular.copy(b[a])||{}},e.prototype._setFieldConstraints=function(a,b){var c=this._getConstraints();c[a]=b,this._setConstraints(c)},e.prototype._setFieldConstraintsKey=function(d,e,f,g){var h=g.compatibleKeys,i=g.incompatibleKeys,j=this._getFieldConstraints(d);return j=a(j)?j:{},h&&(j=b(j,h)),i&&(j=c(j,i)),j[e]=f,this._setFieldConstraints(d,j),this},e.prototype.equalTo=function(a,b){return this._setFieldConstraints(a,b),this},e.prototype.notEqualTo=function(a,b){var c="$ne",d=["$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.lessThan=function(a,b){var c="$lt",d=["$lte","$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.lessThanOrEqualTo=function(a,b){var c="$lte",d=["$lt","$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.greaterThan=function(a,b){var c="$gt",d=["$gte","$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.greaterThanOrEqualTo=function(a,b){var c="$gte",d=["$gt","$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.containedIn=function(a,b){var c="$in",d=["$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.notContainedIn=function(a,b){var c="$nin",d=["$all"];return this._setFieldConstraintsKey(a,c,b,{incompatibleKeys:d}),this},e.prototype.exists=function(a){var b="$exists",c=!0,d=["$gt","$gte","$lt","$lte","$in","$nin","$all"];return this._setFieldConstraintsKey(a,b,c,{incompatibleKeys:d}),this},e.prototype.doesNotExist=function(a){var b="$exists",c=!1,d=[];return this._setFieldConstraintsKey(a,b,c,{compatibleKeys:d}),this},e.prototype.startsWith=function(a,b){var c="$regex",d=["$all"],e="^\\Q"+b+"\\E";return this._setFieldConstraintsKey(a,c,e,{incompatibleKeys:d}),this},e.prototype.isRelationOf=function(a,b){var c=this._getConstraints();return c.$relatedTo={object:{__type:"Pointer",className:b.className,objectId:b.objectId},key:a},this._setConstraints(c),this},e.prototype.isRelatedTo=function(a,b){var c={__type:"Pointer",className:b.className,objectId:b.objectId};return this._setFieldConstraints(a,c),this},e.prototype.contains=function(a,b){return this._setFieldConstraints(a,b),this},e.prototype.containsAll=function(a){var b="$all",c=angular.isArray(arguments[1])&&2===arguments.length?arguments[1]:[].slice.call(arguments,1),d=[];return this._setFieldConstraintsKey(a,b,c,{compatibleKeys:d}),this},e.prototype.matchesQuery=function(a,b,c){var d="$select",e=["$all"];c=c||"objectId";var f={query:b._yieldParams(),key:c};return this._setFieldConstraintsKey(a,d,f,{incompatibleKeys:e}),this},e.prototype.doesNotMatchQuery=function(a,b,c){var d="$dontSelect",e=["$all"];c=c||"objectId";var f={query:b._yieldParams(),key:c};return this._setFieldConstraintsKey(a,d,f,{incompatibleKeys:e}),this},e.or=function(a){var b=this,c=[].slice.call(arguments,1),d=new b(a),e=a.className,f=[];return angular.forEach(c,function(a){var b=a._yieldParams();b.className===e&&f.push(b.where)}),d._setConstraints({$or:f}),d},e.prototype.skip=function(a){return this._params.skip=a,this},e.prototype.limit=function(a){return this._params.limit=a,this},e.prototype.count=function(){return this._params.limit=0,this._params.count=1,this},e.prototype.select=function(){return this._params.keys=angular.isArray(arguments[0])?arguments[0]:[].slice.call(arguments),this},e.prototype.ascending=function(a){return this._params.order=this._params.order||[],this._params.order.push(a),this},e.prototype.descending=function(a){return this._params.order=this._params.order||[],this._params.order.push("-"+a),this},e.prototype.order=function(){return this._params.order=angular.isArray(arguments[0])?arguments[0]:[].slice.call(arguments),this},e.prototype._yieldParams=function(){var a=angular.copy(this._params);return a.order=a.order&&a.order.length?a.order.join(","):void 0,a.className=this._Resource.className,a},e.prototype.exec=function(){var a=this._yieldParams();return delete a.className,a.where="undefined"!=typeof a.where?JSON.stringify(a.where):void 0,this._Resource.query(a)},d}),angular.module("angularParseInterface").factory("parseRole",["$q","parseResourceActions","parseQueryBuilder",function(a,b,c){"use strict";var d={},e=c.Query,f=function(a,b){a.className="_Role",a.hasMany("roles",a),a.hasMany("users",b)};return d.createRoleFactory=function(c,d){var g="classes/_Role/:objectId",h={objectId:"@objectId"},i={get:b.getActionConfig("get"),query:b.getActionConfig("query"),save:b.getActionConfig("save"),"delete":b.getActionConfig("delete"),PUT:b.getActionConfig("PUT")},j=c(g,h,i);return f(j,d),function(b){var c=new j({name:b}),d=a.defer(),f={$promise:d.promise,$resolved:!1},g=function(a){var b;1===a.length&&(b=a[0],angular.forEach(b,function(a,b){c[b]=a})),d.resolve(),f.$resolved=!0},h=function(a){d.reject(a),f.$resolved=!0};new e(j).equalTo("name",b).exec().$promise.then(g,h);var i=function(){Object.defineProperty(f,"name",{get:function(){return c.name},set:function(){}}),Object.defineProperty(f,"className",{get:function(){return c.className},set:function(){}}),f.getPointer=function(){return c.getPointer()},f.$save=function(){var a=[].slice.call(arguments);c.$save.apply(c,a)},f.addUsers=function(){var a=[].slice.call(arguments);a.unshift("users"),c.addRelations.apply(c,a)},f.removeUsers=function(){var a=[].slice.call(arguments);a.unshift("users"),c.removeRelations.apply(c,a)},f.addIncludedRoles=function(){var a=[].slice.call(arguments);a.unshift("roles"),c.addRelations.apply(c,a)},f.removeIncludedRoles=function(){var a=[].slice.call(arguments);a.unshift("roles"),c.removeRelations.apply(c,a)}},k=function(a){f.error=a};return f.$promise.then(i,k),f}},d}]),angular.module("angularParseInterface").factory("parseStorage",["$localStorage","$sessionStorage",function(a,b){"use strict";var c={};return c.localStorage=a,c.sessionStorage=b,c}]),angular.module("angularParseInterface").factory("parseUser",["parseResourceActions","PARSE_APP_EVENTS",function(a,b){"use strict";var c={},d=function(a,c,d){var e=!1,f="parseUser",g=b.MODULE_INIT+"."+f;a.className="_User",a._addRequestBlacklistProps("emailVerified"),c.once(g,function(a,b){e="REST"===b.currentAPI}),c.emit(b.MODULE_REGISTERED,f),c.on(b.USE_REST_API,function(){e=!0}),c.on(b.USE_JS_API,function(){e=!1}),a.signUp=function(a,e,f){var g=this.save({username:a,password:e,email:f});return g.$promise.then(function(){var a={sessionToken:g.sessionToken};delete g.sessionToken,c.emit(b.SIGN_IN,a)}),d.user=g},a.signIn=function(a,f){var g;return g=e?this.get({urlSegment1:"login",username:a,password:f}):this.get({urlSegment1:"login"},{username:a,password:f}),g.$promise.then(function(){var a={sessionToken:g.sessionToken};delete g.sessionToken,c.emit(b.SIGN_IN,a)}),d.user=g},a.signOut=function(){delete d.user,c.emit(b.SIGN_OUT)},a.current=function(){var a=d.user,e=this;return a?a=new e(a):c.emit(b.SIGN_OUT),a},a.resetPassword=function(a){return this.POST({urlSegment1:"requestPasswordReset"},{email:a})}};return c.createUserModel=function(b,c,e){var f="/:urlSegment1/:urlSegment2",g={urlSegment1:"users",urlSegment2:"@objectId"},h={get:a.getActionConfig("get"),query:a.getActionConfig("query"),save:a.getActionConfig("save"),"delete":a.getActionConfig("delete"),PUT:a.getActionConfig("PUT"),POST:a.getActionConfig("POST")},i=b(f,g,h),j=c.parseUser=c.parseUser||{};return d(i,e,j),i},c}]),angular.module("angularParseInterface").factory("parseDataCodecs",["$log",function(a){"use strict";var b=function(a){var b,c,d,e;if(b=arguments[1]instanceof Array?arguments[1]:[].slice.call(arguments,1),null===a||"object"!=typeof a)return!1;for(c=0,d=b.length;d>c;c++)if(!a.hasOwnProperty(b[c]))return!1;for(e in a)if(a.hasOwnProperty(e)&&b.indexOf(e)<0)return!1;return!0},c={};c.Bytes={},c.Bytes.createEncoder=function(){return function(a){var b;return b=a,{__type:"Bytes",base64:b}}},c.Bytes.createDecoder=function(){var a=function(a){return b(a,["__type","base64"])&&"Bytes"===a.__type};return function(b){if("object"!=typeof b||!a(b))throw new Error("Expecting Bytes object but got "+(angular.isArray(b)?"array":typeof b));return b.base64}},c.Date={},c.Date.createEncoder=function(){return function(a){var b;return b=a.toISOString(),{__type:"Date",iso:b}}},c.Date.createDecoder=function(){var a=function(a){return b(a,["__type","iso"])&&"Date"===a.__type};return function(b){if("object"!=typeof b||!a(b))throw new Error("Expecting Parse Date object but got "+(angular.isArray(b)?"array":typeof b));var c=b.iso;return new Date(c)}},c.File={},c.GeoPoint={},c.Pointer={},c.Pointer.createEncoder=function(b){var c=b.className;if(!c)throw new Error("Must provide a className for Pointers");return function(b){var d;if(angular.isString(b))d=b;else if(angular.isObject(b)){if(d=b.objectId,b.className!==c)throw new Error("Object in Pointer field does not match expect class (expected "+c+" but got "+b.className+").");if(!d)throw new Error("No objectId found for object in Pointer field. Try saving it first.");a.warn("Objects in Pointer fields will not be automatically persisted; only their objectIds will besaved. If you want to save other data from those objects, you'll need to do so separately.")}return{__type:"Pointer",className:c,objectId:d}}},c.Pointer.createDecoder=function(a){var c=a.className,d=function(a){return b(a,["__type","className","objectId"])&&"Pointer"===a.__type};if(!c)throw new Error("Must provide a className for Pointers");return function(a){if(!d(a))throw new Error("Expecting Pointer object but got "+(angular.isArray(a)?"array":typeof a));return a.objectId}},c.Relation={},c.Relation.createEncoder=function(a){var b=a.className;if(!b)throw new Error("Must provide a className for Relations");return function(){return{__type:"Relation",className:b}}},c.Relation.createDecoder=function(a){var c=a.className,d=function(a){return b(a,["__type","className"])&&"Relation"===a.__type};if(!c)throw new Error("Must provide a className for Relations");return function(a){if(!d(a))throw new Error("Expecting Relation object but got "+(angular.isArray(a)?"array":typeof a));if(a.className!==c)throw new Error("Expecting Relation with className of "+c+" but got one with className of "+a.className);return a}};var d=function(){return function(a){return a}},e={};return e.getEncoderForType=function(a,b){var e=c[a]||{},f=e.createEncoder||d;return f(b)},e.getDecoderForType=function(a,b){var e=c[a]||{},f=e.createDecoder||d;return f(b)},e}]),angular.module("angularParseInterface").factory("parseDataEncoding",["parseDataCodecs",function(a){"use strict";var b=function(a){return a[0].toUpperCase()+a.slice(1)},c=function(a){var b,c,d,e;if(b=arguments[1]instanceof Array?arguments[1]:[].slice.call(arguments,1),null===a||"object"!=typeof a)return!1;for(c=0,d=b.length;d>c;c++)if(!a.hasOwnProperty(b[c]))return!1;for(e in a)if(a.hasOwnProperty(e)&&b.indexOf(e)<0)return!1;return!0},d=function(a){return c(a,["__type","iso"])&&"Date"===a.__type},e={};return e.getTransformFunctions=function(){var c,e=function(a){return c._getFieldClassName(a)},f=function(a,d){var e=c._getFieldDataType(a)||angular.isArray(d)&&"Array"||d instanceof Date&&"Date"||null===d&&"Null"||typeof d;return b(e)},g=function(b,c){var d,g,h;return angular.isObject(c)&&c.__op?c:(d=f(b,c),g={className:e(b)},(h=a.getEncoderForType(d,g))(c))},h=function(a){var b,c;c={};for(b in a)a.hasOwnProperty(b)&&"function"!=typeof a[b]&&(c[b]=g(b,a[b]));return c},i=function(a,e){var f=c._getFieldDataType(a)||angular.isArray(e)&&"Array"||d(e)&&"Date"||null===e&&"Null"||typeof e;return b(f)},j=function(b,c){var d,f,g;return d=i(b,c),f={className:e(b)},(g=a.getDecoderForType(d,f))(c)},k=function(a){var b,c;c={};for(b in a)a.hasOwnProperty(b)&&"function"!=typeof a[b]&&(c[b]=j(b,a[b]));return c};return{transformRequest:function(a){return h(a)},transformResponse:function(a){var b;return angular.isArray(a)?(b=[],angular.forEach(a,function(a){b.push(k(a))})):b=k(a),b},setResource:function(a){c=a}}},e}]),angular.module("angularParseInterface").factory("parseJSAuth",["PARSE_APP_EVENTS",function(a){"use strict";var b={};return b.getTransformRequest=function(b,c){var d,e,f,g,h=!1,i="parseJSAuth",j=a.MODULE_INIT+"."+i,k=c[i]=c[i]||{};return b.once(j,function(a,b){d=b.APPLICATION_ID,g=b.JS_KEY,e=b.INSTALLATION_ID,f=b.CLIENT_VERSION,h="JS"===b.currentAPI}),b.emit(a.MODULE_REGISTERED,i),b.on(a.SIGN_IN,function(a,b){k.sessionToken=b.sessionToken}),b.on(a.SIGN_OUT,function(){delete k.sessionToken}),b.on(a.USE_REST_API,function(){h=!1}),b.on(a.USE_JS_API,function(){h=!0}),function(a,b){var c=b(),i=k.sessionToken;return h&&(a._ApplicationId=d,a._JavaScriptKey=g,a._InstallationId=e,a._ClientVersion=f,i&&i.length&&(a._SessionToken=i),c["Content-Type"]="text/plain"),a}},b}]),angular.module("angularParseInterface").factory("parseRESTAuth",["PARSE_APP_EVENTS",function(a){"use strict";var b={};return b.getTransformRequest=function(b,c){var d,e,f=!1,g="parseRESTAuth",h=a.MODULE_INIT+"."+g,i=c[g]=c[g]||{};return b.once(h,function(a,b){d=b.APPLICATION_ID,e=b.REST_KEY,f="REST"===b.currentAPI}),b.emit(a.MODULE_REGISTERED,g),b.on(a.SIGN_IN,function(a,b){i.sessionToken=b.sessionToken}),b.on(a.SIGN_OUT,function(){delete i.sessionToken}),b.on(a.USE_REST_API,function(){f=!0}),b.on(a.USE_JS_API,function(){f=!1}),function(a,b){var c=b(),g=i.sessionToken;return f&&(c["X-Parse-Application-Id"]=d,c["X-Parse-REST-API-Key"]=e,g&&g.length&&(c["X-Parse-Session-Token"]=g)),a}},b}]),angular.module("angularParseInterface").factory("parseResource",["$resource","PARSE_APP_EVENTS","parseRESTAuth","parseJSAuth","parseDataEncoding","parseResourceDecorator",function(a,b,c,d,e,f){"use strict";var g={};return g.createAppResourceFactory=function(a,c){var d=this._createCoreAppResourceFactory(a,c),e=this._createApiSpecificConfigs.bind(this),g=this._generateBaseActions,h=this._configureActions.bind(this),i=["REST","JS"],j={},k="parseResource",l=b.MODULE_INIT+"."+k;return a.once(l,function(a,b){j.currentAPI=b.currentAPI}),a.emit(b.MODULE_REGISTERED,k),a.on(b.USE_REST_API,function(){j.currentAPI="REST"}),a.on(b.USE_JS_API,function(){j.currentAPI="JS"}),function(a,b,c){var k,l;return c=e(c,i),l=g(c),k=d(a,b,l),h(k,c,j),f(k),k}},g._getPseudoMethodTransform=function(a){return function(b){return b=b||{},b._method=a,b}},g._namespaceBaseActions=function(a,b){var c=angular.copy(a);return c.nameSpace=b,angular.forEach(a.baseActions,function(a,d){var e=b+d;delete c.baseActions[d],c.baseActions[e]=angular.copy(a)}),c},g._generateRESTActionConfig=function(a,b){var c=this._namespaceBaseActions;return c(a,b)},g._generateJSActionConfig=function(a,b){var c=this._namespaceBaseActions,d=this._getPseudoMethodTransform,e=c(a,b);return angular.forEach(e.baseActions,function(a){if("POST"!==a.method){var b=d(a.method);a.method="POST",a.transformRequest=a.transformRequest||[],a.transformRequest.push(b)}}),e},g._generateAPIActionConfig=function(a,b){var c,d=this._generateRESTActionConfig.bind(this),e=this._generateJSActionConfig.bind(this);return"REST"===b?c=d:"JS"===b&&(c=e),c(a,b)},g._createApiSpecificConfigs=function(a,b){var c={},d=this;return angular.forEach(a,function(a,e){var f=angular.copy(a);a.apiActions={},angular.forEach(b,function(b){a.apiActions[b]=d._generateAPIActionConfig(f,b)}),c[e]=a}),c},g._generateBaseActions=function(a){var b={};return angular.forEach(a,function(a){angular.forEach(a.apiActions,function(a){angular.extend(b,a.baseActions)})}),b},g._createCoreAppResourceFactory=function(b,f){var g=function(a){var b=["POST","PUT"];return b.indexOf(a.method)>=0},h=function(a){return angular.isString(a)||(a=angular.toJson(a)),a},i=function(a){return angular.isString(a)&&(a=angular.fromJson(a)),a},j=c.getTransformRequest(b,f),k=d.getTransformRequest(b,f);return function(b,c,d){var f,l="https://api.parse.com/1",m=function(a){return l.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,"")},n=e.getTransformFunctions(),o=function(a){var b;a.transformRequest?angular.isFunction(a.transformRequest)&&(a.transformRequest=[a.transformRequest]):a.transformRequest=[],b=a.transformRequest,g(a)&&(b.length&&b.push(i),b.push(n.transformRequest)),b.push(j),b.push(k),g(a)&&b.push(h)},p=function(a){var b;a.transformResponse?angular.isFunction(a.transformResponse)&&(a.transformResponse=[a.transformResponse]):a.transformResponse=[],b=a.transformResponse,b.unshift(n.transformResponse),b.unshift(i)};return b=m(b),c=c||{},d=d||{},angular.forEach(d,function(a){o(a),p(a)}),f=a(b,c,d),n.setResource(f),angular.forEach(d,function(a){a.setResource&&a.setResource(f)}),f}},g._deNamespaceBaseActions=function(a,b){var c=b.nameSpace;angular.forEach(b.baseActions,function(b,d){var e=d,f=d.slice(c.length),g=c+"$"+f,h="$"+f,i=a[e],j=a.prototype[g];delete a[e],delete a.prototype[g],a[f]=i,j&&(a.prototype[h]=j)})},g._deleteAndReturnAction=function(a,b){var c="$"+b,d=a[b];return delete a[b],delete a.prototype[c],d},g._createApiSpecificActions=function(a,b){var c={},d=this;return angular.forEach(b,function(b,e){c[e]={},angular.forEach(b.apiActions,function(f,g){d._deNamespaceBaseActions(a,f),angular.isFunction(f.decorator)&&f.decorator(a),b.hasInstanceAction=angular.isFunction(a.prototype["$"+e]),c[e][g]=d._deleteAndReturnAction(a,e)})}),c},g._destroyUndefinedActions=function(a,b){var c=function(b){return a.hasOwnProperty(b)&&a.prototype.hasOwnProperty("$"+b)};angular.forEach(a,function(d,e){c(e)&&!b[e]&&(delete a[e],delete a.prototype["$"+e])})},g._createInstanceAction=function(a,b){a.prototype["$"+b]=function(c,d,e){angular.isFunction(c)&&(e=d,d=c,c={});var f=a[b].call(this,c,this,d,e);return f.$promise||f}},g._resetPrototype=function(a,b){var c=this;a.prototype={},angular.forEach(b,function(b,d){b.hasInstanceAction&&c._createInstanceAction(a,d)})},g._configureActions=function(a,b,c){var d=this._createApiSpecificActions(a,b);angular.forEach(d,function(b,d){a[d]=function(){return b[c.currentAPI].apply(this,arguments)}}),this._destroyUndefinedActions(a,b),this._resetPrototype(a,b)},g}]),angular.module("angularParseInterface").factory("parseResourceActions",function(){"use strict";var a={},b=function(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return a[c]},c=function(a,b){for(var c=a.length-1;c>=0;c--)if(b(a[c]))return a[c]},d=function(a,b){return angular.forEach(b,function(c,d){a[d]=a[d]||b[d]}),a},e=function(a){var b={};return angular.forEach(a,function(a,c){angular.isFunction(a)||(b[c]=a)}),b};a.get={baseActions:{get:{method:"GET"}}},a.delete={baseActions:{"delete":{method:"DELETE"}}},a.POST={baseActions:{POST:{method:"POST"}},decorator:function(a){delete a.prototype.$POST,a.POST=function(){var b=a.POST;return function(){var a=b.apply(this,arguments),c={$promise:a.$promise,$resolved:a.$resolved},d=function(a){angular.forEach(a,function(a,b){"$promise"!==b&&(c[b]=a)})},e=function(a){c.data=a.data,c.status=a.status,c.headersGetter=a.headers,c.config=a.config,c.statusText=a.statusText,c.$resolved=!0};return a.$promise.then(d,e),c}}()}},a.PUT={baseActions:{PUT:{method:"PUT"}},decorator:function(a){a.prototype.$PUT=function(b,c,d){var e={objectId:this.objectId};return a.PUT(e,b,c,d)},a.PUT=function(){var b=a.PUT;return function(){var a=b.apply(this,arguments),c={$promise:a.$promise,$resolved:a.$resolved},d=function(a){angular.forEach(a,function(a,b){"$promise"!==b&&(c[b]=a)})},e=function(a){c.data=a.data,c.status=a.status,c.headersGetter=a.headers,c.config=a.config,c.statusText=a.statusText,c.$resolved=!0};return a.$promise.then(d,e),c}}()}},a.query={baseActions:{query:function(){var a;return{method:"GET",isArray:!0,transformResponse:function(b){var c=b.results;return c?angular.forEach(c,function(b,c,d){d[c]=new a(b)}):[]},setResource:function(b){a=b}}}(),count:{method:"GET",isArray:!1,transformResponse:function(a){return{count:a.count}}}},decorator:function(a){a.query=function(){var b=a.query,c=a.count;return delete a.count,delete a.prototype.$count,delete a.prototype.$query,function(){var a,d,e,f=[].slice.call(arguments);return a=angular.isObject(f[0])?f[0]:{},d=angular.equals(a.count,1),e=d?c:b,e.apply(this,f)}}()}},a.save={baseActions:{save:{method:"POST"},create:{method:"POST"},update:{method:"PUT"}},decorator:function(a){a.save=function(){var f=a.create,g=a.update;return delete a.create,delete a.update,delete a.prototype.$create,delete a.prototype.$update,function(){var h,i,j,k,l,m,n,o,p,q,r;return h=[].slice.call(arguments),i=b(h,angular.isObject),j=c(h,angular.isObject),i===j&&(i={}),k=j instanceof a?j:new a(j),l=e(k),m=b(h,angular.isFunction)||angular.noop,n=function(a,b){d(a,l),m(a,b)},o=c(h,angular.isFunction)||angular.noop,o=o===m?angular.noop:o,p=function(a){angular.extend(k,l),o(a)},q=!k.objectId,r=q?f:g,r.call(this,i,k,n,p)}}()}};var f={getActionConfig:function(b){return angular.copy(a[b])}};return f}),angular.module("angularParseInterface").factory("parseResourceDecorator",["$log",function(a){"use strict";return function(b){b._getMetaData=function(){return this._metaData||{}},b._setMetaData=function(a){this._metaData=a},b._getMetaDataProp=function(a){var b=this._getMetaData();return b[a]},b._setMetaDataProp=function(a,b){var c=this._getMetaData();c[a]=b,this._setMetaData(c)};var c=function(d){b._setMetaDataProp("className",d),c=function(c){var d=b._getMetaDataProp("className"),e="You are renaming the Parse Object class "+d+" to "+c;b._setMetaDataProp("className",c),a.warn(e)}};Object.defineProperty(b,"className",{enumerable:!0,configurable:!1,get:function(){return this._getMetaDataProp("className")},set:function(a){c(a)}}),b._getFieldsMetaData=function(){return this._getMetaDataProp("fields")||{}},b._setFieldsMetaData=function(a){this._setMetaDataProp("fields",a)},b._getFieldMetaData=function(a){var b=this._getFieldsMetaData();return b[a]||{}},b._setFieldMetaData=function(a,b){var c=this._getFieldsMetaData();c[a]=b,this._setFieldsMetaData(c)},b._getFieldMetaDataProp=function(a,b){var c=this._getFieldMetaData(a);return c[b]},b._setFieldMetaDataProp=function(a,b,c){var d=this._getFieldMetaData(a);d[b]=c,this._setFieldMetaData(a,d)},b._getFieldDataType=function(a){return this._getFieldMetaDataProp(a,"dataType")},b._setFieldDataType=function(a,b){this._setFieldMetaDataProp(a,"dataType",b)},b._getFieldClassName=function(a){return this._getFieldMetaDataProp(a,"className")},b._setFieldClassName=function(a,b){this._setFieldMetaDataProp(a,"className",b)},b._addRequestBlacklistProp=function(a){this._setFieldMetaDataProp(a,"isRequestBlacklisted",!0)},b._addRequestBlacklistProps=function(){var a=angular.isArray(arguments[0])?arguments[0]:[].slice.call(arguments),b=this,c=function(a){b._addRequestBlacklistProp(a)};angular.forEach(a,c)},b._isRequestBlacklisted=function(a){return!!this._getFieldMetaDataProp(a,"isRequestBlacklisted")},b._addRequestBlacklistProps("createdAt","updatedAt"),Object.defineProperty(b.prototype,"className",{enumerable:!0,configurable:!1,get:function(){return b.className},set:function(){}}),b.prototype.getPointer=function(){return{__type:"Pointer",className:this.className,objectId:this.objectId}},b.hasOne=function(a,b){this._setFieldDataType(a,"Pointer"),this._setFieldClassName(a,b.className)},b.hasMany=function(a,b){this._setFieldDataType(a,"Relation"),this._setFieldClassName(a,b.className)},b.prototype.addRelations=function(a){var b=angular.isArray(arguments[1])?arguments[1]:[].slice.call(arguments,1),c={};return c[a]={__op:"AddRelation",objects:[]},angular.forEach(b,function(b){c[a].objects.push(b.getPointer())}),this.$PUT(c)},b.prototype.removeRelations=function(a){var b=angular.isArray(arguments[1])?arguments[1]:[].slice.call(arguments,1),c={};return c[a]={__op:"RemoveRelation",objects:[]},angular.forEach(b,function(b){c[a].objects.push(b.getPointer())}),this.$PUT(c)},b.prototype._getACLMetaData=function(){return this.ACL||{}},b.prototype._setACLMetaData=function(a){this.ACL=a},b.prototype._setReadPrivileges=function(a,b){var c,d;if(1===arguments.length&&"boolean"==typeof a)b=a,c="*";else{if("_User"!==a.className&&"_Role"!==a.className)throw new Error("Can only set privileges for User or Role objects");c=a.objectId}d=this._getACLMetaData(),d[c]=d[c]||{},d[c].read=b,this._setACLMetaData(d)},b.prototype._setWritePrivileges=function(a,b){var c,d;if(1===arguments.length&&"boolean"==typeof a)b=a,c="*";else{if("_User"!==a.className&&"_Role"!==a.className)throw new Error("Can only set privileges for User or Role objects");c=a.objectId}d=this._getACLMetaData(),d[c]=d[c]||{},d[c].write=b,this._setACLMetaData(d)},b.prototype.canBeReadBy=function(a){var b=a.objectId;this._setReadPrivileges(b,!0)},b.prototype.cannotBeReadBy=function(a){var b=a.objectId;this._setReadPrivileges(b,!1)},b.prototype.canBeWrittenBy=function(a){var b=a.objectId;this._setWritePrivileges(b,!0)},b.prototype.cannotBeWrittenBy=function(a){var b=a.objectId;this._setWritePrivileges(b,!1)},b.prototype.allCanRead=function(){this._setReadPrivileges(!0)},b.prototype.allCanWrite=function(){this._setWritePrivileges(!0)}}}]);